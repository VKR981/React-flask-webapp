{"version":3,"sources":["pages/loading.gif","book.jpg","pages/pp.png","pp.png","loading.gif","pages/Navbar.jsx","pages/Footer.jsx","pages/BookMain.jsx","pages/Book_item.jsx","pages/register.js","pages/Login.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Navbar","createHashHistory","props","handleItemClick","e","name","setState","activeItem","state","loginstatus","email","query","username","logout","bind","handleFormSubmit","handleChange","token","localStorage","getItem","decoded","jwt_decode","this","d","url","console","log","history","push","value","style","backgroundcolor","Segment","inverted","color","Menu","fixed","pointing","secondary","size","Container","Item","as","active","onClick","res","position","Form","onSubmit","Input","icon","placeholder","onChange","borderRadius","Button","marginLeft","clear","primary","removeItem","Component","withRouter","Footernav","vertical","padding","Grid","divided","stackable","Row","Column","width","Header","content","List","link","BookMain","handleRate","rating","maxRating","data","open","review","isbn","axios","get","match","params","then","usertoken","event","formdata","FormData","append","post","userid","marginbottom","basic","compact","Group","Image","src","imgurlgen","Content","title","Meta","author","Extra","avgrating","totalratings","year","Rating","defaultRating","Math","round","disabled","TransitionablePortal","openOnTriggerClick","trigger","Popup","labelPosition","left","top","zIndex","Field","control","TextArea","handlechange","label","onRate","handlereviewsubmit","Comment","dividing","margin","map","comment","Avatar","require","Author","Metadata","time","Text","Actions","Bookitem","page","data2","search","searchresults","PageChange","length","nextProps","activePage","reviews","Dimmer","textAlign","Pagination","defaultActivePage","totalPages","onPageChange","Card","doubling","card","href","genbookurl","localavgrating","toFixed","localtotalratings","genurl","wrapped","className","Description","Icon","defaults","xsrfCookieName","xsrfHeaderName","Register","pwd","cpwd","error","handleSubmit","target","formData","formDatatoken","alert","id","class","preventDefault","type","ReactDOM","render","document","getElementById","Login","keys","setItem","marginTop","App","exact","path","component","Boolean","window","location","hostname","styleLink","createElement","rel","head","appendChild","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.1306270e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.b710acbd.gif\";","module.exports = __webpack_public_path__ + \"static/media/book.4f9cf305.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pp.64d6eaa3.png\";","module.exports = __webpack_public_path__ + \"static/media/pp.64d6eaa3.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.b710acbd.gif\";","import React, { Component } from 'react'\r\nimport { Input, Menu, Container,Segment,Button, Form, Search } from 'semantic-ui-react'\r\nimport jwt_decode from 'jwt-decode'\r\nimport logout from './functions'\r\nimport { Route , withRouter} from 'react-router-dom';\r\nimport { createHashHistory } from 'history'\r\nimport {loadinganim} from './loading.gif'\r\nexport const history = createHashHistory()\r\nclass Navbar extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = { activeItem: 'home',\r\n        loginstatus: false,\r\n      email:'',\r\n    query:'',\r\n  username:'' }\r\n\r\n      this.logout=this.logout.bind(this);\r\n      this.handleFormSubmit=this.handleFormSubmit.bind(this);\r\n      this.handleChange=this.handleChange.bind(this);\r\n\r\n  }\r\n  \r\n\r\n      componentDidMount() {\r\n\r\n\r\n        \r\n    \r\n        const token = localStorage.getItem('usertoken');\r\n        if(token){\r\n          const decoded = jwt_decode(token)\r\n          this.setState({email:decoded.email,username:decoded.username,loginstatus:true})\r\n        }\r\n        \r\n    \r\n        \r\n\r\n      \r\n        \r\n    \r\n      }\r\n    \r\n\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\r\n\r\n  handleFormSubmit(e,d){\r\n    let url= '/explore/'+this.state.query\r\n    console.log(this.state.query)\r\n    this.props.history.push(url)\r\n  }\r\n  handleChange(e,d){\r\n    this.setState({query:d.value})\r\n    console.log(this.state.query)\r\n  }\r\n\r\n  render() {\r\n    const { activeItem } = this.state\r\n    let fixed=false\r\n\r\n    return (\r\n\r\n    \t\r\n    \t\r\n    <asd style={{backgroundcolor:'black'}}>\r\n      \r\n      \r\n      <Segment inverted color='black'>\r\n     \r\n    \r\n      <Menu\r\n      inverted \r\n              fixed={fixed ? 'top' : null}\r\n              \r\n              pointing={!fixed}\r\n              secondary={!fixed}\r\n              size='small'\r\n              \r\n            >\r\n              <Container>\r\n                <Menu.Item as='a' active onClick={res=>{this.props.history.push('/home')}}>\r\n                  Home\r\n                </Menu.Item>\r\n                <Menu.Item as='a'>Recomendations</Menu.Item>\r\n                <Menu.Item as='a'>Latest</Menu.Item>\r\n                <Menu.Item>\r\n                \r\n                </Menu.Item>\r\n                <Menu.Item position='right'>\r\n                <Form onSubmit={this.handleFormSubmit}>\r\n                  \r\n                <Input icon='search' size='small' placeholder='Search...' value={this.state.query} onChange={this.handleChange} >\r\n                <input style={{borderRadius: '17.345px'}} icon='search' />\r\n</Input>\r\n      </Form>\r\n                {this.state.loginstatus&&<Button as='a' inverted={!fixed} style={{ marginLeft: '0.5em' }}>\r\n                    {this.state.username}\r\n                  </Button>}\r\n                  {this.state.loginstatus&&<Button as='a' onClick={res=>{localStorage.clear();this.setState({loginstatus:false}); this.props.history.push('/login')}} inverted={!fixed} primary={fixed} style={{ marginLeft: '0.5em' }}>\r\n                    Log out\r\n                  </Button>}\r\n                  {!this.state.loginstatus&&<Button as='a' onClick={res=>{ this.props.history.push('/login')}} inverted={!fixed} style={{ marginLeft: '0.5em' }}>\r\n                    Log in\r\n                  </Button>}\r\n                  {!this.state.loginstatus&&<Button as='a' onClick={res=>{ this.props.history.push('/register')}} inverted={!fixed} primary={fixed} style={{ marginLeft: '0.5em' }}>\r\n                    Sign Up\r\n                  </Button>}\r\n                </Menu.Item>\r\n              </Container>\r\n            </Menu>\r\n            </Segment>\r\n      </asd>\r\n      \r\n\r\n    )\r\n  }\r\n\r\n   logout(){\r\n    \r\n    localStorage.removeItem('usertoken');\r\n    this.props.history.push('/login')\r\n}\r\n}\r\n\r\n\r\nexport default withRouter(Navbar)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React,{ Component} from 'react';\r\n// import axios from 'axios';\r\n// import Register from './register.js';\r\n// import ReactDOM from 'react-dom';\r\n\r\n// class Navbar extends Component {\r\n\r\n// \tconstructor(props){\r\n// \t\tsuper (props);\r\n\r\n// \t}\r\n\r\n// \trender(){\r\n\r\n// \t\treturn()\r\n// \t}\r\n\r\n\r\n// }","import React from 'react'\r\nimport {Segment,Container,Grid,Header,List} from 'semantic-ui-react'\r\n\r\nexport default function Footernav(){\r\n    return(\r\n        <Segment inverted vertical style={{ padding: '5em 0em' }}>\r\n      <Container>\r\n        <Grid divided inverted stackable>\r\n          <Grid.Row>\r\n            <Grid.Column width={3}>\r\n              <Header inverted as='h4' content='About' />\r\n              <List link inverted>\r\n                <List.Item as='a'>Sitemap</List.Item>\r\n                <List.Item as='a'>Contact Us</List.Item>\r\n                <List.Item as='a'>API</List.Item>\r\n              </List>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <Header inverted as='h4' content='Services' />\r\n              <List link inverted>\r\n                <List.Item as='a'>E=MC^2</List.Item>\r\n                <List.Item as='a'>Help</List.Item>\r\n                <List.Item as='a'>How To </List.Item>\r\n                <List.Item as='a'>galley</List.Item>\r\n              </List>\r\n            </Grid.Column>\r\n            <Grid.Column width={7}>\r\n              <Header as='h4' inverted>\r\n                This is a footer\r\n              </Header>\r\n              <p>\r\n              Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\r\n              </p>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Container>\r\n    </Segment>\r\n    )\r\n}","import React from 'react'\r\nimport { Container, Popup, Item, Button, Segment, Comment, Form, Header, TextArea, TransitionablePortal, Rating } from 'semantic-ui-react'\r\nimport { Component } from 'react'\r\nimport axios from 'axios';\r\nimport Navbar from './Navbar'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { profileicon } from './pp.png'\r\nimport Footernav from './Footer'\r\n\r\nclass BookMain extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      open: false,\r\n      review: '',\r\n      email: '',\r\n      token: '',\r\n      isbn: '',\r\n      loginstatus: false\r\n\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n\r\n    axios.get('/reviews/' + this.props.match.params.isbn).then(res => { this.setState({ data: res.data }); })\r\n\r\n\r\n    const token = localStorage.usertoken\r\n    if (token) {\r\n      const decoded = jwt_decode(token)\r\n      this.setState({\r\n\r\n        email: decoded.email,\r\n        token: token,\r\n        isbn: this.props.match.params.isbn,\r\n        loginstatus: true\r\n\r\n      })\r\n    }\r\n\r\n  }\r\n  imgurlgen(isbn) {\r\n    return 'http://covers.openlibrary.org/b/isbn/' + isbn + '-L.jpg';\r\n  }\r\n\r\n  handlechange(e, d) {\r\n    this.setState({ review: d.value })\r\n  }\r\n\r\n  handlereviewsubmit(event, data) {\r\n\r\n    const formdata = new FormData()\r\n    formdata.append('email', this.state.email)\r\n    formdata.append('review', this.state.review)\r\n    formdata.append('rating', this.state.rating)\r\n    formdata.append('token', this.state.token)\r\n    formdata.append('isbn', this.state.isbn)\r\n\r\n\r\n    axios.post(\"/submitreview\", formdata,).then(res => { if (res.data) { this.state.data.push({ userid: this.state.email, review: this.state.review, rating: this.state.rating }) } })\r\n\r\n  }\r\n  handleRate = (e, { rating, maxRating }) => {\r\n    this.setState({ rating: rating })\r\n  }\r\n  render() {\r\n    const data = this.props.match.params;\r\n    const { open } = this.state\r\n    return (\r\n      <div>\r\n\r\n        <Navbar style={{ marginbottom: '2em' }} />\r\n\r\n        <Segment basic />\r\n        <Container>\r\n          <Segment compact>\r\n            <Item.Group divided inverted>\r\n              <Item>\r\n                <Item.Image size='small' src={this.imgurlgen(data.isbn)} />\r\n\r\n                <Item.Content>\r\n                  <Item.Header as='a'>{data.title}</Item.Header>\r\n                  <Item.Meta>\r\n                    <p>Author:{data.author}</p>\r\n                  </Item.Meta>\r\n                  <Item.Extra>\r\n                    <p>Average rating:{data.avgrating} </p>\r\n                    <p>Total ratings:{data.totalratings}</p>\r\n                    <p>Year:{data.year}</p>\r\n                    <Rating icon='star' defaultRating={Math.round(data.avgrating)} maxRating={5} disabled />\r\n                  </Item.Extra>\r\n                  <TransitionablePortal\r\n                    open={open}\r\n\r\n                    openOnTriggerClick\r\n                    trigger={\r\n                      <Popup\r\n                        disabled={this.state.loginstatus}\r\n                        trigger={<Button\r\n                          content='Write review'\r\n                          labelPosition='left' icon='edit' primary onClick={res => { if (this.state.loginstatus) { this.setState({ open: true }) } }}\r\n\r\n\r\n\r\n                        />}\r\n                        content=\"You have to sign in first.\"\r\n                        basic\r\n                      />\r\n\r\n                    }\r\n                  >\r\n                    <Segment\r\n                      style={{ left: '40%', position: 'fixed', top: '30%', zIndex: 1000, }}\r\n                      size='massive'\r\n                    >\r\n\r\n                      <Form >\r\n                        <Form.Field\r\n                          width='16'\r\n                          control={TextArea}\r\n                          onChange={(e, d) => { this.setState({ open: true }); this.handlechange(e, d) }}\r\n                          label='press submit when you are done'\r\n                          placeholder='Less than 300 charaters...'\r\n                        />\r\n                        <Rating icon='star' defaultRating={this.state.rating} maxRating={5} onRate={this.handleRate} />\r\n                        <Button onClick={(e, d) => { this.setState({ open: false }); this.handlereviewsubmit(e, d) }}>Submit</Button>\r\n                      </Form>\r\n\r\n                    </Segment>\r\n                  </TransitionablePortal>\r\n\r\n                </Item.Content>\r\n\r\n\r\n              </Item>\r\n            </Item.Group>\r\n          </Segment>\r\n        </Container><Container>\r\n          <Comment.Group>\r\n\r\n            <Header as='h3' dividing style={{ margin: \"1em \" }}>\r\n              Reviews\r\n    </Header>\r\n            {this.state.data.map(comment => (\r\n              <Comment>\r\n                <Comment.Avatar src={require('../pp.png')} />\r\n                <Comment.Content>\r\n                  <Comment.Author as='a'>{comment.userid}</Comment.Author>\r\n                  <Comment.Metadata>\r\n                    <div>{comment.time}</div>\r\n                  </Comment.Metadata>\r\n                  <Comment.Text>{comment.review}</Comment.Text>\r\n                  <Comment.Actions>\r\n                    <Rating icon='star' defaultRating={comment.rating} maxRating={5} disabled />\r\n                  </Comment.Actions>\r\n                </Comment.Content>\r\n              </Comment>\r\n\r\n            ))}\r\n\r\n\r\n          </Comment.Group>\r\n\r\n\r\n        </Container>\r\n        <Segment basic />\r\n        <Footernav />\r\n      </div>\r\n\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default BookMain;\r\n\r\n","import React, { Component } from 'react'\r\nimport { Segment, Modal, Dimmer, Rating, Card, Image, Icon, Container, Pagination, Header } from 'semantic-ui-react'\r\nimport axios from 'axios';\r\nimport Navbar from './Navbar'\r\nimport { loadinganim } from './loading.gif'\r\nimport Footernav from './Footer'\r\n\r\nclass Bookitem extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\r\n\t\t\tpage: 0,\r\n\t\t\tdata2: [],\r\n\t\t\temail: '',\r\n\t\t\topen: false,\r\n\t\t\tactive: true,\r\n\t\t\tsearch: false,\r\n\t\t\tsearchresults: true\r\n\r\n\r\n\r\n\t\t};\r\n\t\tthis.PageChange = this.PageChange.bind(this)\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\r\n\t\tconst query = this.props.match.params.query\r\n\r\n\t\tif (query) {\r\n\r\n\t\t\tthis.setState({ active: true, search: true })\r\n\t\t\taxios.get('/search/' + this.props.match.params.query + '/' + this.state.page).then(res => { if (!res.data.length) { this.setState({ searchresults: false }) } this.setState({ data2: res.data }); this.setState({ active: false }); })\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tthis.setState({ active: true })\r\n\t\t\taxios.get('/books/' + this.state.page).then(res => { this.setState({ data2: res.data }); this.setState({ active: false }) })\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst query = this.props.match.params.query\r\n\r\n\t\tif (query) {\r\n\r\n\t\t\tthis.setState({ active: true, search: true, page: 0 })\r\n\t\t\taxios.get('/search/' + nextProps.match.params.query + '/' + this.state.page).then(res => { if (!res.data.length) { this.setState({ searchresults: false }) } else { this.setState({ data2: res.data }); this.setState({ searchresults: true }) } this.setState({ active: false }); })\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tthis.setState({ active: true })\r\n\t\t\taxios.get('/books/' + this.state.page).then(res => { this.setState({ data2: res.data }); this.setState({ active: false }) })\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tPageChange(event, data) {\r\n\r\n\t\tif (this.state.search) {\r\n\t\t\tthis.setState({ active: true, searchresults: true })\r\n\t\t\tthis.setState({ data2: [], page: (data.activePage - 1) })\r\n\t\t\taxios.get('/search/' + this.props.match.params.query + '/' + (data.activePage - 1)).then(res => { if (!res.data.length) { this.setState({ searchresults: false }) } this.setState({ data2: res.data }); this.setState({ active: false }) })\r\n\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tthis.setState({ active: true })\r\n\t\t\tthis.setState({ page: (data.activePage - 1) })\r\n\t\t\tthis.setState({ data2: [] })\r\n\t\t\taxios.get('/books/' + (data.activePage - 1)).then(res => { this.setState({ data2: res.data }); this.setState({ active: false }) })\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tgenurl(isbn) {\r\n\r\n\t\tlet url = 'http://covers.openlibrary.org/b/isbn/' + isbn + '-L.jpg';\r\n\t\treturn url;\r\n\t}\r\n\r\n\tgenbookurl(isbn, title, author, avgrating, totalratings, reviews, year) {\r\n\t\tlet url = '/reviews/' + isbn + '/' + title + '/' + author + '/' + avgrating + '/' + totalratings + '/' + reviews + '/' + year;\r\n\t\treturn url\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { active } = this.state\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\r\n\t\t\t\t<Dimmer active={active} page>\r\n\t\t\t\t\t<Image src={require('../loading.gif')} />\r\n\t\t\t\t\t<p>Fetching data</p>\r\n\t\t\t\t</Dimmer>\r\n\t\t\t\t<Navbar style={{ marginbottom: '2em' }} />\r\n\r\n\t\t\t\t<style>\r\n\t\t\t\t\t{`\r\n       body {\r\n        \r\n  \r\n      }\r\n      \r\n    }\r\n    `}\r\n\t\t\t\t</style>\r\n\t\t\t\t<Segment basic />\r\n\t\t\t\t{(!active && this.state.searchresults) && <Container>\r\n\r\n\t\t\t\t\t<div style={{ padding: \"0em 0em\", textAlign: \"center\" }}>\r\n\t\t\t\t\t\t<div style={{ textAlign: \"center\", padding: '4rem' }}>\r\n\t\t\t\t\t\t\t<Pagination defaultActivePage={1} activePage={this.state.page + 1} totalPages={10} onPageChange={this.PageChange} /></div>\r\n\r\n\t\t\t\t\t\t<Card.Group stackable={true} doubling={true} >\r\n\r\n\t\t\t\t\t\t\t{(this.state.data2.map(card => (\r\n\t\t\t\t\t\t\t\t<Card href={this.genbookurl(card.isbn, card.title, card.author, (card.localavgrating).toFixed(2), card.localtotalratings, card.reviews, card.year)} style={{ width: '250px' }}>\r\n\r\n\t\t\t\t\t\t\t\t\t<Image src={this.genurl(card.isbn)} size='massive' wrapped style={{ width: '250px' }} />\r\n\r\n\t\t\t\t\t\t\t\t\t<Card.Content>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Header>{card.title}</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Meta>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='date'>Author:{card.author}</span>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Meta>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Meta>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='date'>Year:{card.year}</span>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Meta>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Content >\r\n\t\t\t\t\t\t\t\t\t\t\t<Rating icon='star' defaultRating={Math.round(card.localavgrating, 2)} maxRating={5} disabled />\r\n\t\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Description>\r\n\t\t\t\t\t\t\t\t\t\t\t{(card.localavgrating).toFixed(2)} Avg rating, {card.localtotalratings} total ratings.\r\n      \t\t\t\t\t\t\t\t\t</Card.Description>\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t\t<Card.Content >\r\n\t\t\t\t\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon name='pencil alternate' />\r\n\t\t\t\t\t\t\t\t\t\t\t{card.reviews} Reviews\r\n      \t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t)))}\r\n\r\n\t\t\t\t\t\t</Card.Group>\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ textAlign: \"center\", padding: '4rem' }}>\r\n\t\t\t\t\t\t<Pagination defaultActivePage={1} activePage={this.state.page + 1} totalPages={10} onPageChange={this.PageChange} /></div>\r\n\r\n\t\t\t\t</Container>}\r\n\t\t\t\t{!this.state.searchresults && <Header textAlign='center' content='No results' />}\r\n\t\t\t\t<Footernav />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Bookitem","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Login from './Login';\r\nimport ReactDOM from 'react-dom';\r\nimport { Segment } from 'semantic-ui-react'\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken'\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\r\n\r\nclass Register extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      email: \"\",\r\n      pwd: \"\",\r\n      cpwd: \"\",\r\n      error: \"\"\r\n\r\n\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n  }\r\n\r\n\r\n  handleChange(event) {\r\n    // console.log(event.target);\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  handleSubmit(event) {\r\n\r\n    console.log(event.target);\r\n\r\n    const { username, email, pwd, cpwd } = this.state;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"username\", username);\r\n    formData.append(\"email\", email);\r\n    formData.append(\"password\", pwd);\r\n    formData.append(\"cpassword\", cpwd);\r\n    formData.append(\"X-CSRFToken\", \"ghjgjhg\");\r\n\r\n    const formDatatoken = new FormData();\r\n    formDatatoken.append(\"X-CSRFToken\", \"ghjgjhg\");\r\n\r\n\r\n\r\n\r\n\r\n    if (username === '' || email === '' || pwd === '' || cpwd === '') {\r\n      alert(\"please fill all the fields\");\r\n\r\n    }\r\n    else if (pwd !== cpwd) {\r\n      alert(\"passwords do not match\");\r\n    }\r\n    else if (pwd.length < 8) {\r\n      alert(\"passwords should be atleast 8 characters\");\r\n    }\r\n    else {\r\n\r\n\r\n\r\n      axios.post(\"/api/register\", formData, formDatatoken).then(res => { alert(res.data); });\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        <style>\r\n          {`\r\n       body {\r\n        background-image: url(${require(\"../book.jpg\")}); !important;\r\n  background-size: 100% 120%; !important;\r\n      }\r\n      \r\n    }\r\n    `}\r\n        </style>\r\n        <Segment basic style={{ margin: '6em' }} />\r\n        <div id=\"loginform\" class=\"wrapper fadeInDown my-auto\">\r\n          <div >\r\n            <div id=\"formContent\">\r\n\r\n\r\n\r\n              <div class=\"fadeIn first\">\r\n\r\n              </div>\r\n\r\n\r\n              <form onSubmit={e => { e.preventDefault(); this.handleSubmit(e); }}>\r\n                <input type=\"username\" value={this.state.username} onChange={this.handleChange} id=\"login\" class=\"fadeIn second\" name=\"username\" placeholder=\"User name\"></input>\r\n                <input type=\"email\" value={this.state.email} onChange={this.handleChange} id=\"login\" class=\"fadeIn second mt-4\" name=\"email\" placeholder=\"Email\"></input>\r\n                <input type=\"password\" value={this.state.pwd} onChange={this.handleChange} id=\"password\" class=\"fadeIn third\" name=\"pwd\" placeholder=\"password\"></input>\r\n                <input type=\"password\" value={this.state.cpwd} onChange={this.handleChange} id=\"password\" class=\"fadeIn third\" name=\"cpwd\" placeholder=\" confirm password\"></input>\r\n                <input type=\"submit\" onSubmit={e => { e.preventDefault(); this.handleSubmit(e); }} class=\"fadeIn fourth\" value=\"Register\"></input>\r\n              </form>\r\n\r\n\r\n              <div id=\"formFooter\">\r\n\r\n                <a class=\"underlineHover\" href=\"/login\" >Login</a>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  switchform() {\r\n\r\n    ReactDOM.render(<Login />, document.getElementById('root'))\r\n  }\r\n\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Register from './register.js';\nimport ReactDOM from 'react-dom';\nimport './form.css';\nimport { Container, Header, Segment } from 'semantic-ui-react';\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      pwd: \"\",\n      error: \"\"\n\n\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n\n  handleChange(event) {\n    // console.log(event.target);\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n\n    console.log(event.target);\n\n    const { email, pwd } = this.state;\n\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"password\", pwd);\n    formData.append(\"X-CSRFToken\", \"ghjgjhg\");\n\n    const formDatatoken = new FormData();\n    formDatatoken.append(\"X-CSRFToken\", \"ghjgjhg\");\n\n\n\n    console.log('formdata', formData.keys());\n\n    if (email === '' || pwd === '') {\n      alert(\"please fill all the fields\");\n\n    }\n\n    else if (pwd.length < 2) {\n      alert(\"passwords should be atleast 8 characters\");\n    }\n    else {\n\n\n\n      axios.post(\"/api/login\", formData, formDatatoken).then(res => {\n        if (res.data.token) {\n          localStorage.setItem('usertoken', res.data.token);\n          console.log(res.data.token);\n          this.props.history.push('/home')\n        }\n        else {\n          alert('invalid credentials')\n        }\n      });\n\n    }\n\n\n  }\n\n\n\n  render() {\n\n\n\n    return (\n\n      <div >\n        <style>\n          {`\n       body {\n        background-image: url(${require(\"../book.jpg\")}); !important;\n  background-size: 100% 120%; !important;\n      }\n      \n    }\n    `}\n        </style>\n        <Segment basic style={{ margin: '6em' }} />\n        \n        <div id=\"loginform\" class=\"wrapper fadeInDown my-auto\" style={{ marginTop: '4em' }}>\n          <div >\n            <div id=\"formContent\">\n\n\n\n              <div class=\"fadeIn first\">\n\n              </div>\n\n\n              <form onSubmit={e => { e.preventDefault(); this.handleSubmit(e); }}>\n                <input type=\"email\" value={this.state.email} onChange={this.handleChange} id=\"login\" class=\"fadeIn second\" name=\"email\" placeholder=\"Email\"></input>\n                <input type=\"password\" value={this.state.pwd} onChange={this.handleChange} id=\"password\" class=\"fadeIn third\" name=\"pwd\" placeholder=\"password\"></input>\n                <input type=\"submit\" onSubmit={e => { e.preventDefault(); this.handleSubmit(e); }} class=\"fadeIn fourth\" value=\"Log In\"></input>\n              </form>\n\n\n              <div id=\"formFooter\">\n                <a class=\"underlineHover\" href=\"#\">Forgot Password?</a>\n                <a class=\"underlineHover\" href=\"/register\" >Sign up</a>\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n  switchform() {\n\n    ReactDOM.render(<Register />, document.getElementById('root'))\n  }\n\n\n\n}\n\nexport default Login;\n","import React from 'react';\nimport './App.css';\n\n\n\nimport {\n  BrowserRouter as Router,\n  Route,\n} from \"react-router-dom\";\n\nimport BookMain from './pages/BookMain';\nimport Bookitem from './pages/Book_item'\nimport Login from './pages/Login'\nimport Register from './pages/register';\n\nfunction App(props) {\n  return (\n    <div>\n\n      <Router>\n\n        <Route exact path=\"/reviews/:isbn/:title/:author/:avgrating/:totalratings/:reviews/:year\" component={BookMain} />\n        <Route exact path=\"/explore/:query\" component={Bookitem} />\n        <Route exact path=\"/home\" component={Bookitem} />\n        <Route exact path=\"/\" component={Bookitem} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n      </Router>\n    </div>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href = \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}